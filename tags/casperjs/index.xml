<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>Casperjs on log </title>
      <generator uri="https://gohugo.io">Hugo</generator>
    <link>http://log.deprode.net/tags/casperjs/index.xml</link>
    
    
    <copyright>deprode</copyright>
    <updated>Mon, 01 Jan 0001 00:00:00 UTC</updated>
    
    <item>
      <title>2015 05 07</title>
      <link>http://log.deprode.net/logs/2015-05-07/</link>
      <pubDate>Thu, 07 May 2015 23:47:46 JST</pubDate>
      
      <guid>http://log.deprode.net/logs/2015-05-07/</guid>
      <description>

&lt;h3 id=&#34;casperjsが動いてるかテストした&#34;&gt;CasperJSが動いてるかテストした&lt;/h3&gt;

&lt;p&gt;新しいVPSでCasperJSが動くのか試した。（メモリ枯渇的な調査）&lt;/p&gt;

&lt;p&gt;まず、&lt;code&gt;casperjs --version&lt;/code&gt;でversionを確認した後、&lt;a href=&#34;http://docs.casperjs.org/en/latest/quickstart.html&#34;&gt;QuickStart&lt;/a&gt;でスクレイピングを試した。&lt;/p&gt;

&lt;p&gt;Twitterのログイン画面では、fill系メソッドが使えないので&lt;a href=&#34;http://docs.casperjs.org/en/latest/modules/casper.html#sendkeys&#34;&gt;sendKeys&lt;/a&gt;を使った。&lt;/p&gt;

&lt;p&gt;その後、いろいろあってダメだった。具体的には、プロフィールを変更ボタンにclickイベント、evalueteでclick、evalueteでjQueryを使ってclickなどしたけど、動かなかったので断念した。PC版は。&lt;/p&gt;

&lt;p&gt;モバイル版はテキストボックスに見せかけたdivみたいな要素がないので、fillSelectors使ってすぐできた。
&lt;img src=&#34;http://log.deprode.net/log/media/2015-05-07 16.43.48.png&#34; alt=&#34;2015-05-07 16.43.48&#34;&gt;&lt;/p&gt;

&lt;p&gt;当初の目的である、512MBのVPSでCasperJSが動くのか確認できたのでよかった。&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;今日学んだこと

&lt;ul&gt;
&lt;li&gt;CasperJSも完璧じゃない。できることとできないことがある。&lt;/li&gt;
&lt;li&gt;BitbucketにあるPhantomJSを使うと日本語が表示されない。&lt;/li&gt;
&lt;li&gt;Twitterのプロフィールは&lt;a href=&#34;https://dev.twitter.com/rest/reference/post/account/update_profile&#34;&gt;APIから変更できる&lt;/a&gt;。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>2015 04 24</title>
      <link>http://log.deprode.net/logs/2015-04-24/</link>
      <pubDate>Fri, 24 Apr 2015 23:22:18 JST</pubDate>
      
      <guid>http://log.deprode.net/logs/2015-04-24/</guid>
      <description>&lt;ul&gt;
&lt;li&gt;Ansibleなど

&lt;ul&gt;
&lt;li&gt;CasperJSも入れたいなと思ってたら、PhantomJSは2.0になってて、困る。&lt;/li&gt;
&lt;li&gt;stackoverflowによると、1.1-beta3ブランチはPhantomJS1.8以下2.0以上でexitするようになってるらしい。

&lt;ul&gt;
&lt;li&gt;手元のMac版はhomebrewで管理してるけど、前に間違って2.0にあげてしまったのでcasperjs動かない。bootstrap.jsをgistで動くように書き換えて、無保証で動かせばいいっぽい。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;でもgithub見ると普通に1.9ブランチはあるし、rereaseブランチに1.9.7のものがある。

&lt;ul&gt;
&lt;li&gt;と思ったら、build.shを動かさないとだめっぽので、bitbucketのビルド済みイメージ（1.9.8）をダウンロードする方向に切り替えた&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ビルドなしで、解凍して&lt;code&gt;/usr/local/bin/&lt;/code&gt;以下に配置してみる。

&lt;ul&gt;
&lt;li&gt;get_urlだとリモートにダウンロードするけど、unarchiveがローカルにしか対応してない？

&lt;ul&gt;
&lt;li&gt;copy=noでよかった&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;その後のリモート→リモート間のコピーするモジュールがないっぽい。

&lt;ul&gt;
&lt;li&gt;commandでmvとかcpとか使うみたい。&lt;/li&gt;
&lt;li&gt;statとregisterでファイルがあるかチェックした結果を格納して、whenで判定すればいちいちcpやmvを実行しなくていい。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;unarchiveでcreatesの使い方がわからなかったけど、テストで使ってたので他人に見せるコードはテスト書くの大事だなと思った。

&lt;ul&gt;
&lt;li&gt;てか、assertモジュールあるのか。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;CasperJSはnpmでインストールすればよかったのでは、という気分になってる。

&lt;ul&gt;
&lt;li&gt;まあ、適当なフォルダに解凍してlinkするだけなので、どうでもいいけど。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;nginxの設定ファイル、サイトごとに設定してるファイル違うんだけど……。

&lt;ul&gt;
&lt;li&gt;デフォルトがincludeで*.confを全部読み込んでるからだった。

&lt;ul&gt;
&lt;li&gt;apacheで見た。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;phpinfo出そうと思ったけど、そのまま出ることになってたけど、&lt;code&gt;&amp;lt;?&lt;/code&gt;だけだったからだった。

&lt;ul&gt;
&lt;li&gt;teratailで全く同じ質問あって笑ってしまった。

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://teratail.com/questions/5773&#34;&gt;https://teratail.com/questions/5773&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;続きは明日以降。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;メールは使わないけど、logwatchとか通知用にPostfixインストールしないとと思ってる。

&lt;ul&gt;
&lt;li&gt;さくらVPSなら最初から使えるので何の問題もない。&lt;/li&gt;
&lt;li&gt;DigitalOceanはコミュニティにインストール方法の記事が書いてあった。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;花金で飯画像がアップされると同時に画像解析し、店を割り出し、急行してマシンガンを撃ち出すドローン。&lt;/li&gt;
&lt;li&gt;竹の子もらいすぎて価格高騰とか信じられないんですが。&lt;/li&gt;
&lt;li&gt;関数型ポエムで失った信頼を回復するために、秀和システムが達人プログラマーの権利を買い取るけど社内政治の末、例の人が翻訳を担当することになる悪夢&lt;/li&gt;
&lt;li&gt;「一流の女優がバラエティ番組に出ると緊張で失敗したり謙虚になったりする仕草がかわいい」という系譜を「仲間由紀恵・綾瀬はるか」ラインと私は呼んでるんですけど

&lt;ul&gt;
&lt;li&gt;やめた。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ゼノブレイド、現在Lv63、65時間。

&lt;ul&gt;
&lt;li&gt;シナリオ中心に進めてるけど、サブイベントが恋しくなってくる。&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
  </channel>
</rss>
+++
Categories = ["log"]
Description = "Ansible"
Tags = ["Ansible"]
Title = "2015 04 23"
date = "2015-04-23T23:20:57+09:00"
+++

* 確か前にブックマークしたな→おっ、この使えそうな記事は何だ？→へー、ふむふむ
	* →時間が足りない
	* 「敵は過去の自分」っていうと格好いいけど、現実は厳しい。
* Ansible
	* よーし、playbookちょっと走らせるか→長いから休憩する
		* →playbook.ymlにroleを書き忘れててもう一回走らせることになる
	* mongodbのリポジトリ、公式で用意してくれてあるけど、yumモジュールで入らなかったのでcopyでリポジトリ登録した
		* 今見たらyumにdisable_gpg_checkオプションあるので、試せば行けるかもしれない。
		* ただ、URL中の$releaseverを置き換えられるのかわからなかったし、できたのでもういいです。
	* packaging modulesみたら、composerとかnpmとかあって楽ができそうだった。
	* 進んでないので、とりあえずyumでインストールとserviceでstarted,enabledの設定だけすべて済ませた。
		* そのほかの設定がよくわかってないので、調べながらやることになる。セキュリティ対策だけちゃんとやったら、あとは運用でカバーする。
			* フラグ
	* 通知系は触ってないので、そのうち試そう。
* デプロイもAnsibleでできそうだけど。
	* どんな感じだっけ
		* 現在のディレクトリをバックアップ
		* 最新のプログラムを配置
		* 成功時にリンク張り替え
		* プログラムなど再起動
	* まあ、その、最悪shellがそのまま書けるので便利というか。
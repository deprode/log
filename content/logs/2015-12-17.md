+++
Categories = ["log"]
Description = "SlimbbsにNGワードつけた"
Tags = ["slim"]
Title = "2015 12 17"
date = "2015-12-18T22:41:19+09:00"

+++

## SlimbbsにNGワードつけた
[2015 11 03](http://deprode.net/log/logs/2015-11-03/)に、[deprode/slimbbs](https://github.com/deprode/slimbbs)にNGワード機能をつけたが編集できないまま放置していたので完成させた。

というか、一日でできたのでよかった。新たな画面作成、ルーティング、Configファイルの読み書き、バリデーション（独自ルールの追加）、管理画面が複数になったためデザインの変更などあったが、休みながらやっても終わったのでよかった。

NGワードを増やすときにinputフィールドを増やしているけど、その辺の処理はVanillaJSで行った。というか、めちゃめちゃ適当に作ってしまったので、短いながらも割とひどいコードになった。（でも10行くらいの処理で重いライブラリ使いたくないし。）

もうそろそろ受け入れテスト書いたりしたい。単体テストはどうやって書いたらいいんだろう。というか、単体テスト書くときにコードをテスタブルにしてからテストするので、あまりよくない。最初からテストを書くと即負債[^1]になるし、タイミングがよくわからない。

[^1]: 負債というか、テストがほぼ書き直しになるような変更を入れづらくなるので変更に対して保守的になる。怠惰なので、よい変更に対しても保守的になるためあまり最初からテストを書くのは好きじゃない。

そうこうしているうちに完成しそうになってるし、やはりほぼ変更がない箇所に対しては書いた方がいいという結論になりつつある。

というか、書けば書くほど自分の習得範囲が狭いことがわかってつらい。